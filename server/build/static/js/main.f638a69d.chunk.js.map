{"version":3,"sources":["reportWebVitals.js","api/index.js","types/index.js","components/Logout/index.jsx","actions/login.js","components/Layout/index.jsx","pages/Login/index.js","hooks/useChat.js","components/UserList/index.js","components/Chat/index.js","pages/Main/index.js","reducers/index.js","store/index.js","routes/PrivateRoute/index.js","routes/PublicRoute/index.js","pages/Registration/index.js","actions/registration.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","API_URL","headers","login","username","password","a","axios","post","response","data","console","error","registration","firstName","lastName","logout","newHeader","Authorization","localStorage","getItem","LOGIN_ACTION","LOGOUT_ACTION","LOGIN_FAILED","REGISTER_ACTION","Logout","dispatch","useDispatch","className","to","onClick","e","preventDefault","type","payload","Layout","children","isLogged","Login","useState","userName","setUsername","setPassword","state","useSelector","isFail","log","onSubmit","LoginAction","htmlFor","onChange","event","target","value","name","id","placeholder","useChat","messages","setMessages","users","setUsers","socketRef","useRef","useEffect","current","socketIOClient","on","message","incomingMessage","indexOf","emit","onlineUsers","disconnect","sendMessage","messageText","msg","userId","UserList","map","user","i","Chat","textareaRef","handleSubmit","messagesRef","socketUserId","scrollTop","scrollHeight","ref","m","localeData","Date","timestamp","toLocaleTimeString","cn","Main","focus","initalState","token","fullName","expirationToken","isRegister","store","createStore","action","setItem","removeItem","composeWithDevTools","applyMiddleware","thunk","render","PrivateRoute","rest","bind","PublicRoute","Registration","formRef","elements","repassword","RegistrationAction","required","ReactDOM","StrictMode","path","document","getElementById"],"mappings":"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","file":"static/js/main.f638a69d.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import axios from \"axios\";\n\nconst API_URL = 'http://localhost:8000';\n\nconst headers = {\n    'Content-Type': 'application/json',\n}\n\nexport const login = async (username, password) => {\n    try {\n        const response = await axios.post(`${API_URL}/login`, {username, password}, {headers});\n        return response.data;\n    } catch (error) {\n        console.error('Login Error', error);\n    }\n}\n\nexport const registration = async (firstName, lastName, username, password) => {\n    try {\n        const response = await axios.post(`${API_URL}/registration`, {\n            firstName,\n            lastName,\n            username,\n            password\n        }, {headers})\n        return response.data;\n    } catch (error) {\n        console.error('Registration Error', error);\n    }\n}\n\nexport const logout = async () => {\n    try {\n        const newHeader = {...headers, Authorization: localStorage.getItem('token')}\n        await axios.post(`${API_URL}/logout`, null, {headers: newHeader});\n    } catch (error) {\n        console.error('Logout error', error)\n    }\n}\n","export const LOGIN_ACTION = \"LOGIN_ACTION\";\nexport const LOGOUT_ACTION = \"LOGOUT_ACTION\";\nexport const LOGIN_FAILED = \"LOGIN_FAILED\";\nexport const REGISTER_ACTION = \"REGISTER_ACTION\";\nexport const REGISTER_FAILED = \"REGISTER_ACTION\";\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {Link, Redirect} from \"react-router-dom\";\nimport { LogoutAction } from \"../../actions/\";\n\nexport const Logout = () => {\n  const dispatch = useDispatch();\n\n  const removeLocaleStorage = (e) => {\n    e.preventDefault();\n    dispatch(LogoutAction());\n  };\n\n  return (\n    <li className=\"nav-item\">\n      <Link className=\"nav-link\" to=\"/login\" onClick={removeLocaleStorage}>\n        Log Out\n      </Link>\n    </li>\n  );\n};\n","import {login, logout} from '../api';\nimport {LOGIN_ACTION, LOGIN_FAILED, LOGOUT_ACTION} from \"../types\";\n\nexport const LoginAction = (username, password) => {\n    return async (dispatch) => {\n        try {\n            const data = await login(username, password);\n            dispatch({type: LOGIN_ACTION, payload: data});\n        } catch (error) {\n            dispatch({type: LOGIN_FAILED, payload: null});\n        }\n    }\n}\n\nexport const LogoutAction = () => {\n    return async (dispatch) => {\n        await logout()\n        dispatch({ type: LOGOUT_ACTION, payload: null });\n    };\n}\n","import React from \"react\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { Logout } from \"../Logout\";\n\nexport const Layout = ({ children }) => {\n  const isLogged = localStorage.getItem(\"userId\");\n\n  return (\n    <>\n      <header>\n        <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n          <div className=\"navbar-nav mr-auto\">\n            {isLogged && (\n              <li className=\"nav-item\">\n                <Link className=\"nav-link\" to=\"/\">\n                  Home\n                </Link>\n              </li>\n            )}\n          </div>\n          <div className=\"navbar-nav ml-auto\">\n            {!isLogged ? (\n              <>\n                <li className=\"nav-item\">\n                  <Link className=\"nav-link\" to=\"/login\">\n                    Login\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className=\"nav-link\" to=\"/registration\">\n                    Sign Up\n                  </Link>\n                </li>\n              </>\n            ) : (\n              <Logout />\n            )}\n          </div>\n        </nav>\n      </header>\n      {children}\n    </>\n  );\n};\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { LoginAction } from \"../../actions\";\nimport { Layout } from \"../../components/Layout\";\nimport { Link } from \"react-router-dom\";\n\nexport const Login = () => {\n  const [userName, setUsername] = useState(null);\n  const [password, setPassword] = useState(null);\n  const state = useSelector((state) => state);\n\n  const dispatch = useDispatch();\n\n  if (state.isFail) {\n    console.log(\"show Error\");\n  }\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(LoginAction(userName, password));\n  };\n\n  const usernameChange = (event) => {\n    setUsername(event.target.value);\n  };\n\n  const passwordChange = (event) => {\n    setPassword(event.target.value);\n  };\n\n  return (\n    <Layout>\n      <div className=\"container\">\n        <div className=\"col-6 offset-3\">\n          <div className=\"my-3 p-5 bg-light border border-dark\">\n            <h1>Login</h1>\n            <form onSubmit={submitHandler}>\n              <div className=\"form-group\">\n                <label htmlFor=\"username\">Username</label>\n                <input\n                  onChange={usernameChange}\n                  type=\"text\"\n                  name=\"username\"\n                  id=\"username\"\n                  placeholder=\"username\"\n                  className=\"form-control\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"password\">Password</label>\n                <input\n                  onChange={passwordChange}\n                  type=\"password\"\n                  name=\"password\"\n                  id=\"password\"\n                  placeholder=\"password\"\n                  className=\"form-control\"\n                />\n              </div>\n              <button className=\"btn btn-primary btn-block\" type=\"submit\">\n                Login\n              </button>\n            </form>\n            <div className=\"mt-1\">\n              New to Chat? <Link to=\"/registration\">SIGN UP</Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n","import React, {useEffect, useRef, useState} from \"react\";\nimport socketIOClient from \"socket.io-client\";\n\nconst ENDPOINT = \"http://127.0.0.1:8000\";\n\n\nconst useChat = () => {\n    const [messages, setMessages] = useState([]);\n    const [users, setUsers] = useState([]);\n    const socketRef = useRef();\n\n    useEffect(() => {\n        socketRef.current = socketIOClient(ENDPOINT);\n\n        socketRef.current.on('sendMessage', (message) => {\n            const incomingMessage = message\n            setMessages((messages) => [...messages, incomingMessage]);\n        });\n\n        if (users.indexOf(localStorage.getItem('fullName')) === -1) {\n            console.log('here');\n            socketRef.current.emit('joinUser', localStorage.getItem('fullName'));\n        }\n\n        socketRef.current.on('joinUser', ({onlineUsers,  messages}) => {\n                setUsers([...onlineUsers])\n                setMessages([...messages])\n        });\n\n        return () => {\n            socketRef.current.disconnect();\n        };\n\n    });\n\n    const sendMessage = (messageText) => {\n        const msg = {\n            message: messageText,\n            userId: localStorage.getItem('userId'),\n            userName: localStorage.getItem('fullName')\n        }\n        socketRef.current.emit('sendMessage', msg);\n    };\n\n    return {messages, sendMessage, users};\n};\n\nexport default useChat;\n","import React from \"react\";\nimport \"./index.scss\";\n\nexport const UserList = ({ users }) => {\n  return (\n    <div className=\"users\">\n      <h1 className=\"users__title\">Users online</h1>\n      <ul className=\"users__list\">\n        {users.map((user, i) => (\n          <li className=\"user\" key={`user_${i}`}>\n            <h5>{user}</h5>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import React, {useEffect, useRef} from \"react\";\nimport cn from \"classnames\";\nimport \"./index.scss\";\n\nexport const Chat = ({messages, textareaRef, handleSubmit}) => {\n    const messagesRef = useRef(null);\n    const socketUserId = localStorage.getItem(\"userId\");\n\n    useEffect(() => {\n        messagesRef.current.scrollTop = messagesRef.current.scrollHeight;\n    }, [messages]);\n\n    return (\n        <div className=\"chat\">\n            <div className=\"chat__messages\" ref={messagesRef}>\n                {messages &&\n                messages.map((m, i) => {\n                    const data = new Date(m.timestamp);\n                    const localeData = data.toLocaleTimeString();\n\n                    return (\n                        <div\n                            key={\"key_\" + i}\n                            className={cn(\n                                \"message\",\n                                socketUserId === m.userId && \"message--right\"\n                            )}\n                        >\n                            <div className=\"message__info\">\n                                <span>{m.userName}</span>\n                                <span>{localeData}</span>\n                            </div>\n                            <div className=\"message__text\">{m.message}</div>\n                        </div>\n                    );\n                })}\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"chat__form\">\n                <textarea className=\"form-control\" ref={textareaRef}/>\n                <button className=\"btn btn-primary\" type=\"submit\">\n                    Send\n                </button>\n            </form>\n        </div>\n    );\n};\n","import React, {useRef} from \"react\";\nimport useChat from \"../../hooks/useChat\";\nimport {Layout} from \"../../components/Layout\";\nimport {UserList} from \"../../components/UserList\";\nimport {Chat} from \"../../components/Chat\";\n\nexport const Main = () => {\n    const {messages, sendMessage, users} = useChat();\n    const textareaRef = useRef(null);\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        sendMessage(textareaRef.current.value);\n        textareaRef.current.value = \"\";\n        textareaRef.current.focus();\n    };\n\n    return (\n        <Layout>\n            <div className=\"container\">\n                <div className=\"p-5\">\n                    <div className=\"row\">\n                        <div className=\"col-4\">\n                            <UserList users={users} />\n                        </div>\n                        <div className=\"col-8\">\n                            <Chat\n                                messages={messages}\n                                handleSubmit={handleSubmit}\n                                textareaRef={textareaRef}\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </Layout>\n    )\n};\n","import {\n  LOGIN_ACTION,\n  LOGIN_FAILED,\n  REGISTER_ACTION,\n  LOGOUT_ACTION,\n} from \"../types\";\n\nconst initalState = {\n  token: localStorage.getItem(\"token\") || null,\n  username: localStorage.getItem(\"username\") || null,\n  messages: [],\n  fullName: localStorage.getItem(\"fullName\") || null,\n  userId: localStorage.getItem(\"userId\") || null,\n  expirationToken: localStorage.getItem(\"expirationToken\") || null,\n  isFail: false,\n  isRegister: localStorage.getItem(\"username\") || null,\n};\n\nexport const RootReducer = (state = initalState, action) => {\n  switch (action.type) {\n    case LOGIN_ACTION:\n      console.log(\"In Login Action reducer\");\n      localStorage.setItem(\"token\", \"Bearer \" + action.payload.token);\n      localStorage.setItem(\"username\", action.payload.username);\n      localStorage.setItem(\"fullName\", action.payload.fullName);\n      localStorage.setItem(\"expirationToken\", action.payload.expirationToken);\n      localStorage.setItem(\"userId\", action.payload.userId);\n      return {\n        ...state,\n        token: \"Bearer \" + action.payload.token,\n        username: action.payload.username,\n        fullName: action.payload.fullName,\n        expirationToken: action.payload.expirationToken,\n        userId: action.payload.userId,\n        isFail: false,\n      };\n    case LOGOUT_ACTION:\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"username\");\n      localStorage.removeItem(\"fullName\");\n      localStorage.removeItem(\"userId\");\n      localStorage.removeItem(\"expirationToken\");\n      return {\n        ...initalState,\n      };\n    case LOGIN_FAILED:\n      console.log(\"LOIGN FAIL\");\n      return { ...state, isFail: true };\n\n    case REGISTER_ACTION:\n      return { ...state, isRegister: true };\n    default:\n      return { ...state };\n  }\n};\n","import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { RootReducer } from \"../reducers\";\nexport const store = createStore(\n    RootReducer,\n    composeWithDevTools(applyMiddleware(thunk))\n);\n","import {Redirect, Route} from \"react-router-dom\";\nimport {useSelector} from \"react-redux\";\n\nconst render = (children, token) => {\n    return token ? children : <Redirect to='/login'/>\n}\nexport const PrivateRoute = ({children, ...rest}) => {\n    const {token} = useSelector(\n        (state) => state\n    );\n    return (\n        <Route {...rest} render={render.bind(null, children, token)}/>\n    );\n}\n","import {Redirect, Route} from \"react-router-dom\";\nimport {useSelector} from \"react-redux\";\n\nconst render = (children, token) => {\n    return token ? <Redirect to='/'/> : children\n}\nexport const PublicRoute = ({children, ...rest}) => {\n    const {token} = useSelector(\n        (state) => state\n    );\n    return (\n        <Route {...rest} render={render.bind(null, children, token)}/>\n    );\n}\n","import React, { useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { RegistrationAction } from \"../../actions\";\nimport { Redirect } from \"react-router-dom\";\nimport { Layout } from \"../../components/Layout\";\n\nexport const Registration = () => {\n  const formRef = useRef(null);\n  const state = useSelector((state) => state);\n\n  const dispatch = useDispatch();\n\n  if (state.isRegister) {\n    return <Redirect to={\"/login\"} />;\n  }\n\n  if (state.isFail) {\n    console.log(\"show Error\");\n  }\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    const {\n      firstName,\n      lastName,\n      username,\n      password,\n      repassword,\n    } = e.target.elements;\n    if (password.value === repassword.value) {\n      dispatch(\n        RegistrationAction(\n          firstName.value,\n          lastName.value,\n          username.value,\n          password.value\n        )\n      );\n    } else {\n      console.log(\"Passwords does not match\");\n    }\n  };\n  return (\n    <Layout>\n      <div className=\"container\">\n        <div className=\"col-6 offset-3\">\n          <div className=\"my-3 p-5 bg-light border border-dark\">\n            <h1>Registration</h1>\n            <form ref={formRef} onSubmit={submitHandler}>\n              <div className=\"form-group\">\n                <label htmlFor=\"password\">First name</label>\n                <input\n                  required\n                  type=\"text\"\n                  name=\"firstName\"\n                  id=\"firstName\"\n                  placeholder=\"firstName\"\n                  className=\"form-control\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"password\">Last name</label>\n                <input\n                  required\n                  type=\"text\"\n                  name=\"lastName\"\n                  id=\"lastName\"\n                  placeholder=\"lastName\"\n                  className=\"form-control\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"password\">Username</label>\n                <input\n                  required\n                  type=\"text\"\n                  name=\"username\"\n                  id=\"username\"\n                  placeholder=\"username\"\n                  className=\"form-control\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"password\">Password</label>\n                <input\n                  required\n                  type=\"password\"\n                  name=\"password\"\n                  id=\"password\"\n                  placeholder=\"password\"\n                  className=\"form-control\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"password\">Re-password</label>\n                <input\n                  required\n                  type=\"password\"\n                  name=\"repassword\"\n                  id=\"repassword\"\n                  placeholder=\"repassword\"\n                  className=\"form-control\"\n                />\n              </div>\n              <button className=\"btn btn-primary btn-block\" type=\"submit\">\n                Register\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n","import {registration} from '../api';\nimport {REGISTER_ACTION, REGISTER_FAILED} from \"../types\";\n\nexport const RegistrationAction = (firstName, lastName, username, password) => {\n    return async (dispatch) => {\n        try {\n            const data = await registration(firstName, lastName, username, password);\n            dispatch({type: REGISTER_ACTION, payload: data});\n        } catch (error) {\n            dispatch({type: REGISTER_FAILED, payload: null});\n        }\n    }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter as Router, Switch } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { Login } from \"./pages/Login\";\nimport { Main } from \"./pages/Main\";\nimport { store } from \"./store\";\nimport { PrivateRoute } from \"./routes/PrivateRoute\";\nimport { PublicRoute } from \"./routes/PublicRoute\";\nimport { Registration } from \"./pages/Registration\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router>\n        <Switch>\n          <PublicRoute path={\"/login\"}>\n            <Login />\n          </PublicRoute>\n          <PublicRoute path={\"/registration\"}>\n            <Registration />\n          </PublicRoute>\n          <PrivateRoute path={\"/\"}>\n            <Main />\n          </PrivateRoute>\n          <PrivateRoute path={\"/logout\"} />\n        </Switch>\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}